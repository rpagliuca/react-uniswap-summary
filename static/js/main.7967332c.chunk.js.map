{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["Main","useState","endpoint","setEndpoint","persistEndpoint","document","cookie","window","location","hash","hashEndpoint","substr","loadHashFromURL","useEffect","cookieValue","split","find","row","startsWith","loadHashFromCookie","deactivateHashChangeHandler","onhashchange","onClick","Stats","Setup","text","setText","onSubmit","href","onChange","e","target","value","handleClear","data","setData","fetch","then","response","json","catch","error","toString","isLoading","idx","map","i","positionType","Token","Token1InitialQuantity","md","className","tag","color","Pair","Id","InitialDate","replace","Token1","toFixed","Token2","Token2InitialQuantity","InitialK","InitialPrice","Token1FinalQuantity","Token2FinalQuantity","MyK","FinalPrice","DivergenceLoss","PercentageFees","AccruedProfit","YearlyProfit","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7967332c.chunk.js","sourcesContent":["import * as rs from 'reactstrap';\n\nimport React, { useEffect, useState } from 'react';\n\nfunction App() {\n  return (\n    <rs.Container>\n      <Main/>\n    </rs.Container>\n  );\n}\n\nfunction Main() {\n\n  const [endpoint, setEndpoint] = useState(\"\");\n\n  const persistEndpoint = (endpoint) => {\n    const oneYear = 60 * 60 * 24 * 365;\n    document.cookie = \"endpoint=\" + endpoint + \"; SameSite=Strict; Max-Age=\" + oneYear;\n    window.location.hash = endpoint;\n    setEndpoint(endpoint)\n  }\n  \n  let hashEndpoint = window.location.hash.substr(1);\n\n  const activateHashChangeHandler = () => {\n\n    if (!(\"onhashchange\" in window)) {\n      return () => {};\n    }\n\n    const handler = () => {\n      hashEndpoint = window.location.hash.substr(1);\n      loadHashFromURL();\n    }\n\n    window.onhashchange = handler;\n\n    // Callback to deactivate the current handler\n    return () => {\n      window.onhashchange = null;\n    }\n\n  };\n\n  const loadHashFromURL = () => {\n    persistEndpoint(hashEndpoint)\n  };\n\n  const loadHashFromCookie = () => {\n    let cookieValue = \"\";\n    try {\n      cookieValue = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('endpoint='))\n        .split('=')[1];\n    } catch {}\n\n    if (cookieValue) {\n      setEndpoint(cookieValue);\n    }\n  }\n\n  useEffect(() => {\n\n    // Load from URL\n    loadHashFromURL();\n\n    // Load from cookie\n    loadHashFromCookie();\n\n    const deactivateHashChangeHandler = activateHashChangeHandler()\n\n    return () => {\n      deactivateHashChangeHandler()\n    }\n\n  });\n\n  if (!endpoint) {\n    return <Setup setEndpoint={persistEndpoint}/>;\n  }\n\n  return (\n    <>\n    <rs.Form>\n      <rs.FormGroup>\n        <center><rs.Button onClick={() => persistEndpoint(\"\")}>Clear current session</rs.Button></center>\n      </rs.FormGroup>\n    </rs.Form>\n    <Stats endpoint={endpoint}/>\n    </>\n  )\n\n}\nfunction Setup({setEndpoint}) {\n\n  const [text, setText] = useState(\"\");\n\n  const onSubmit = () => {\n    setEndpoint(text)\n  }\n\n  return (\n    <rs.Form onSubmit={onSubmit}>\n      <rs.FormGroup>\n        <rs.Label>Enter the endpoint of your own deploy of <a href=\"https://github.com/rpagliuca/serverless-uniswap-summary\">serverless-uniswap-summary</a>:</rs.Label>\n        <rs.Input onChange={(e) => setText(e.target.value)} value={text}/>\n      </rs.FormGroup>\n      <rs.Button>Go!</rs.Button>\n    </rs.Form>\n  )\n}\n\nfunction Stats({handleClear, endpoint}) {\n\n  const [data, setData] = useState({\"isLoading\": true, \"shouldLoad\": true});\n\n  useEffect(() => {\n    setData({\"isLoading\": true});\n    fetch(endpoint)\n      .then(response => response.json().then(data => setData(data)))\n      .catch((error) => setData({\"error\": error.toString()}))\n  }, [endpoint]);\n\n  if (data.isLoading) {\n    return (\n      <div>Loading data...</div>\n    );\n  }\n\n  if (data.error) {\n    return (\n      <div>{data.error}</div>\n    );\n  }\n\n  let idx = 0;\n\n  return (\n\n    <rs.Row>\n\n        {data.map(i => {\n\n          idx += 1;\n\n          const positionType = i.Token.Token1InitialQuantity < 0 ? \"position-negative\" : \"position-positive\";\n\n          return (\n\n            <rs.Col md=\"6\">\n\n            <rs.Card key={idx} className={positionType}>\n              <rs.CardBody>\n\n                <rs.CardTitle tag=\"h5\"><rs.Badge color=\"warning\">{i.Token.Pair.Id}</rs.Badge></rs.CardTitle>\n\n                <rs.Badge color=\"dark\">Initial position @ {i.Token.InitialDate.replace(\"T\", \" \").replace(\"Z\", \" UTC\")}</rs.Badge>\n\n                <rs.Card className=\"internal-card\">\n                  <rs.CardBody>\n\n                    <rs.Row><rs.Col>\n                        <b>{i.Token.Token1.Id}:</b> {i.Token.Token1InitialQuantity.toFixed(3)}\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>{i.Token.Token2.Id}:</b> {i.Token.Token2InitialQuantity.toFixed(3)}\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>K:</b> {i.InitialK.toFixed(3)}\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>Initial price:</b> {i.InitialPrice.toFixed(3)} {i.Token.Token1.Id}/{i.Token.Token2.Id}\n                    </rs.Col></rs.Row>\n\n                  </rs.CardBody>\n                </rs.Card>\n\n                <rs.Badge color=\"dark\">Current position</rs.Badge>\n\n                <rs.Card className=\"internal-card\">\n                  <rs.CardBody>\n\n                    <rs.Row><rs.Col>\n                        <b>{i.Token.Token1.Id}:</b> {i.Token1FinalQuantity.toFixed(3)}\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>{i.Token.Token2.Id}:</b> {i.Token2FinalQuantity.toFixed(3)}\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>K:</b> {i.MyK.toFixed(3)}\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>End price:</b> {i.FinalPrice.toFixed(3)} {i.Token.Token1.Id}/{i.Token.Token2.Id}\n                    </rs.Col></rs.Row>\n\n                  </rs.CardBody>\n\n                </rs.Card>\n\n                <rs.Badge color=\"dark\">Results</rs.Badge>\n                <rs.Card className=\"internal-card\">\n                  <rs.CardBody>\n                    <rs.Row><rs.Col>\n                        <b>Divergence loss:</b> {i.DivergenceLoss.toFixed(2)}%\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>Fees:</b> {i.PercentageFees.toFixed(2)}%\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>Current profit:</b> {i.AccruedProfit.toFixed(2)}%\n                    </rs.Col></rs.Row>\n\n                    <rs.Row><rs.Col>\n                        <b>Yearly profit rate:</b> {i.YearlyProfit.toFixed(2)}%\n                    </rs.Col></rs.Row>\n\n                  </rs.CardBody>\n                </rs.Card>\n\n\n\n\n\n\n              </rs.CardBody>\n            </rs.Card>\n            </rs.Col>\n\n        )})}\n\n    </rs.Row>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}